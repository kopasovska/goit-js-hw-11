{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst myApiKey = '48965067-3962fe69a0505f7cd9cc5ea86';\n\nconst axiosInstance = axios.create({\n  baseURL: 'https://pixabay.com/',\n  params: {\n    key: myApiKey,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safeSearch: true,\n    timestamp: new Date().getTime(),\n  },\n});\n\nexport function getImages(searchQuery) {\n  const params = {\n    q: encodeURIComponent(searchQuery),\n  };\n\n  return axiosInstance\n    .get('/api', { params })\n    .then(response => response.data.hits);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  close: 'true',\n});\n\nfunction galleryMarkup(images) {\n  const markup = images\n    .map(\n      image => `<li class=\"gallery-item\">\n                <a class=\"gallery-link\" href=\"${image.webformatURL}\">\n                  <img\n                    class=\"gallery-image\"\n                    src=\"${image.webformatURL}\"\n                    alt=\"${image.tags}\"\n                  />\n                  <ul class=\"image-info-list\">\n                    <li class=image-info-item>\n                        <p class=\"info-title info-text\">Likes</p>\n                        <p class=\"info-text\">${image.likes}</p>\n                    </li>\n                    <li class=image-info-item>\n                        <p class=\"info-title info-text\">Views</p>\n                        <p class=\"info-text\">${image.views}</p>\n                    </li>\n                    <li class=image-info-item>\n                        <p class=\"info-title info-text\">Comments</p>\n                        <p class=\"info-text\">${image.comments}</p>\n                    </li>\n                    <li class=image-info-item>\n                        <p class=\"info-title info-text\">Downloads</p>\n                        <p class=\"info-text\">${image.downloads}</p>\n                    </li>\n                  </ul>\n                </a>\n              </li>`\n    )\n    .join('');\n\n  return markup;\n}\n\nexport function renderGallery(images, gallery) {\n  gallery.innerHTML = '';\n  gallery.insertAdjacentHTML('beforeend', galleryMarkup(images));\n  lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport '@fortawesome/fontawesome-free/css/all.min.css';\n\nimport { getImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\n\nconst refs = {\n  searchForm: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loadingMessage: document.querySelector('.loading-message'),\n};\n\nrefs.searchForm.addEventListener('submit', submitFormHandler);\n\nfunction submitFormHandler(event) {\n  event.preventDefault();\n  refs.gallery.innerHTML = '';\n\n  const searchQuery = event.target.elements.searchQuery.value.trim();\n\n  if (searchQuery === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Your query can not be empty!',\n      backgroundColor: '#ef4040',\n      titleColor: '#fff',\n      messageColor: '#fff',\n      titleSize: '16px',\n      titleLineHeight: '1.5',\n      messageSize: '16px',\n      messageLineHeight: '1.5',\n      icon: 'fa fa-exclamation-circle',\n      iconColor: '#fff',\n      position: 'topRight',\n    });\n    return;\n  } else {\n    debugger;\n    refs.loadingMessage.innerHTML = '<span class=\"loader\"></span>';\n    getImages(searchQuery)\n      .then(images => {\n        if (images.length === 0) {\n          iziToast.info({\n            title: 'Info',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            backgroundColor: '#ef4040',\n            maxWidth: 500,\n            titleColor: '#fff',\n            messageColor: '#fff',\n            titleSize: '16px',\n            titleLineHeight: '1.5',\n            messageSize: '16px',\n            messageLineHeight: '1.5',\n            icon: 'fa fa-exclamation-circle',\n            iconColor: '#fff',\n            position: 'topRight',\n          });\n          return;\n        } else {\n          renderGallery(images, refs.gallery);\n        }\n        refs.loadingMessage.textContent = '';\n      })\n      .catch(error => console.log(error));\n  }\n  event.target.reset();\n}\n"],"names":["myApiKey","axiosInstance","axios","getImages","searchQuery","params","response","lightbox","SimpleLightbox","galleryMarkup","images","image","renderGallery","gallery","refs","submitFormHandler","event","iziToast","error"],"mappings":"owBAEA,MAAMA,EAAW,qCAEXC,EAAgBC,EAAM,OAAO,CACjC,QAAS,uBACT,OAAQ,CACN,IAAKF,EACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,UAAW,IAAI,KAAM,EAAC,QAAS,CAChC,CACH,CAAC,EAEM,SAASG,EAAUC,EAAa,CACrC,MAAMC,EAAS,CACb,EAAG,mBAAmBD,CAAW,CACrC,EAEE,OAAOH,EACJ,IAAI,OAAQ,CAAE,OAAAI,EAAQ,EACtB,KAAKC,GAAYA,EAAS,KAAK,IAAI,CACxC,CCpBA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,MAAO,MACT,CAAC,EAED,SAASC,EAAcC,EAAQ,CAiC7B,OAhCeA,EACZ,IACCC,GAAS;AAAA,gDACiCA,EAAM,YAAY;AAAA;AAAA;AAAA,2BAGvCA,EAAM,YAAY;AAAA,2BAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+CAKUA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,+CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,oBAKzD,EACA,KAAK,EAAE,CAGZ,CAEO,SAASC,EAAcF,EAAQG,EAAS,CAC7CA,EAAQ,UAAY,GACpBA,EAAQ,mBAAmB,YAAaJ,EAAcC,CAAM,CAAC,EAC7DH,EAAS,QAAO,CAClB,CCzCA,MAAMO,EAAO,CACX,WAAY,SAAS,cAAc,OAAO,EAC1C,QAAS,SAAS,cAAc,UAAU,EAC1C,eAAgB,SAAS,cAAc,kBAAkB,CAC3D,EAEAA,EAAK,WAAW,iBAAiB,SAAUC,CAAiB,EAE5D,SAASA,EAAkBC,EAAO,CAChCA,EAAM,eAAc,EACpBF,EAAK,QAAQ,UAAY,GAEzB,MAAMV,EAAcY,EAAM,OAAO,SAAS,YAAY,MAAM,OAE5D,GAAIZ,IAAgB,GAAI,CACtBa,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,UAAW,OACX,gBAAiB,MACjB,YAAa,OACb,kBAAmB,MACnB,KAAM,2BACN,UAAW,OACX,SAAU,UAChB,CAAK,EACD,MACJ,KAAS,CACL,SACAH,EAAK,eAAe,UAAY,+BAChCX,EAAUC,CAAW,EAClB,KAAKM,GAAU,CACd,GAAIA,EAAO,SAAW,EAAG,CACvBO,EAAS,KAAK,CACZ,MAAO,OACP,QACE,2EACF,gBAAiB,UACjB,SAAU,IACV,WAAY,OACZ,aAAc,OACd,UAAW,OACX,gBAAiB,MACjB,YAAa,OACb,kBAAmB,MACnB,KAAM,2BACN,UAAW,OACX,SAAU,UACtB,CAAW,EACD,MACV,MACUL,EAAcF,EAAQI,EAAK,OAAO,EAEpCA,EAAK,eAAe,YAAc,EAC1C,CAAO,EACA,MAAMI,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACrC,CACDF,EAAM,OAAO,OACf"}